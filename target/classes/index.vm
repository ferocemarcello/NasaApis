<!DOCTYPE html>
<html lang="en">
<head>
    <title>$title</title>
    <script>
        function useApiKey(answer) {
            if(answer === "yes") {
                //retrieve from DB and put in session
                //https://stackoverflow.com/questions/38535389/how-best-to-store-user-data-in-spring
                alert("Your NASA API Key is in the database");
            }
            else {
                let apiKey = prompt('Type here you NASA API Key');
                    #set( $merda = "merda");
                //TODO hide it
                alert("Your NASA API Key has been successfully stored");
                window.location.replace("http://localhost:8080/show_all");
            }
        }
        function confirmYes() {
            useApiKey(document.getElementById("yes").value);
        }
        function confirmNo() {
            useApiKey(document.getElementById("no").value);
        }
    </script>
</head>
<div><h1>This is a program which handles NASA APIs</h1></div>
    <p>Have you previously entered your NASA API Key?</p>
    <button id = "yes" onclick="confirmYes()" value="yes">Yes</button>
    <button id = "no" onclick="confirmNo()" value="no">No</button>
    #set( $key = "shit");
    <input type="text" id="key" name="key" value=$key></input>
</body>
</html>